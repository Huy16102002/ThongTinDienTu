@model AccountView;
@{
    ViewData["Title"] = Model.SName +" #"+Model.IAccountId;
}
<div class="text-center m-5">
    <h2>@ViewData["Title"]</h2>
</div>
<div class="container">
    <form asp-action="Edit" enctype="multipart/form-data" asp-controller="Account">
        <div class="form-floating mb-3">
            <input class="form-control" placeholder="" asp-for="IAccountId" readonly>
            <label for="IAccountId">ID<span class="text-danger"></span></label>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" placeholder="" asp-for="SName">
            <label for="SName">Tên tài khoản<span class="text-danger"></span></label>
        </div>
        <div class="form-floating mb-3 ">
            <input class="form-control" placeholder="" asp-for="DBirthofdate">
            <label for="DBirthofdate">Ngày sinh<span class="text-danger">*</span></label>
            <span asp-validation-for="DBirthofdate" class="text-danger"></span>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" placeholder="" asp-for="SEmail">
            <label for="SEmail">Email</label>
            <span asp-validation-for="SEmail" class="text-danger"></span>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" placeholder="" asp-for="SPhone">
            <label for="SPhone">Điện thoại</label>
            <span asp-validation-for="SPhone" class="text-danger"></span>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" placeholder="" asp-for="SPassword">
            <label for="SPassword">Mật khẩu</label>
            <span asp-validation-for="SPassword" class="text-danger"></span>
        </div>
        <div class="input-group mb-3">
            <label class="input-group-text" for="Image">Ảnh</span></label>
            <input class="form-control" asp-for="Image" placeholder="" accept="Image/png, Image/jpeg">
        </div>
        <div class="mb-3">
            <img class="rounded" style="width: 200px; height: 150px;" src="~/images/@Model.SAvatar" id="imgPreview">
            <span class="text-danger" asp-validation-for="Image"></span>
        </div>
        <div>
            <button type="submit" class="btn btn-success m-3">
                <i class="bi bi-pencil-square"></i> Sửa
            </button>
            <a class="btn btn-danger m-3" asp-action="Index" asp-controller="Account">
                <i class="bi bi-x-circle"></i> Hủy
            </a>
        </div>
    </form>
</div>


@section Scripts {
    <script>
        const input = document.getElementById('Image');
        const image = document.getElementById('imgPreview');

        input.addEventListener('change', (e) => {
            if (e.target.files.length) {
                const src = URL.createObjectURL(e.target.files[0]);
                image.src = src;
            }
        });


    </script>
}